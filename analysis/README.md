# 单因子分析

仿`Alphalens`的单因子分析工具

## 与`Alphalens`的不同

1. 不自动计算`forward_returns`。
    1. `Alphalens`设`periods=(1, 5, 10)`，然后内部计算持有对应期数的收益率
    2. 本工具由用户外部生成，用户可以比较同因子，不同交易方式产生的差异。例如：
        - `RETURN_CC_1`: 第1天收盘入场，第2天收盘出场
        - `RETURN_OO_1`: 第2天开盘入场，第3天开盘出场
        - `RETURN_OO_5`: 第2天开盘入场，第6天开盘出场
2. 不做去极值、标准化、行业中性化等操作
    1. `Alphalens`的各参数要弄懂还是很麻烦的，初学者如绩效达不到要求就得深入研究源代码找原因
    2. 用户在外可以一次全计算好，如`F1_ORG, F1_ZS, F1_NEUT`，然后在分别传不同因子进行比较即可
3. 资金分配只用等权
    1. `Alphalens`有因子加权、多空等设置
    2. 只提供等权一种计算方法，实现简单
4. 收益率计算方法不同
    1. `Alphalens` N期简单收益率几何平均成1期，然后+1累乘
    2. 由用户提供1期简单收益率，然后+1累乘，更精确

## 与`Alphalens`的相同

1. 数据组织方式相同。都是长表，都是因子不移动，收益率计算完后移到与因子对齐
2. 净值计算方式相同。每期产生因子，持有时长超过一期，都是将资金分成多份分别入场